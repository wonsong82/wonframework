$.fn.slideBanner=function(){function y(){var a=h;var b=a==0?p.length-1:a-1;u();l.empty().css({top:"0px",left:-1*c+"px"});p[b].css({position:"absolute",top:"0px",left:"0px"}).appendTo(l);p[a].css({position:"absolute",top:"0px",left:c+"px"}).appendTo(l);l.stop(true).animate({left:"0px"},g*1e3,function(){h=a==0?p.length-1:a-1;t()})}function x(){var a=h;var b=a>=p.length-1?0:a+1;u();l.empty().css({top:"0px",left:"0px"});p[a].css({position:"absolute",top:"0px",left:"0px"}).appendTo(l);p[b].css({position:"absolute",top:"0px",left:c+"px"}).appendTo(l);l.stop(true).animate({left:-1*c+"px"},g*1e3,function(){h=h>=p.length-1?0:h+1;t()})}function w(){clearInterval(i)}function v(){clearInterval(i);i=setInterval(function(){x()},f*1e3)}function u(){n.css({display:"none"});o.css({display:"none"})}function t(){n.css({display:"block"});o.css({display:"block"})}function s(){m.removeClass("loading")}function r(){m.addClass("loading")}if($(this).find("ul").length<1){throw"The object passed in is not ul";return false}if($.isFunction($.loadImages)!==true){throw"loadImages must be preloaded.";return false}var a=$(this[0]);var b=arguments[0]||{};var c=b.width||a.width();var d=b.height||a.height();var e=b.nav||false;var f=b.interval||5;var g=b.speed||1;if(g>f){throw"Transition speed cannot be longer than Transition Interval";return false}var h=0;var i=null;var j=false;var k=$("<div/>");var l=$("<div/>");var m=$("<div/>");var n=$('<div class="nav-left"/>');var o=$('<div class="nav-right"/>');var p=[];a.find("li").each(function(){p.push($(this))});if(p.length==0){throw"Empty list, no element is found to make a banner out of";return false}var q=[];a.find("img").each(function(){q.push($(this).attr("src"))});k.width(c);k.height(d);k.css({overflow:"hidden",position:"relative"});l.css({position:"absolute"}).appendTo(k);if(e==true){n.css({display:"none",position:"absolute",cursor:"pointer"}).appendTo(k);o.css({display:"none",position:"absolute",cursor:"pointer"}).appendTo(k)}m.css({position:"absolute"}).appendTo(k);a.empty();a.append(k);r();$.loadImages(q,function(){s();l.append(p[0]);t();a.hover(function(){j=true;w()},function(){j=false;v()});n.click(function(){w();y();v()});o.click(function(){w();x();v()});v()});return a}